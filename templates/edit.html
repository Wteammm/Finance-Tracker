{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header bg-white">
                <h5 class="mb-0">Edit Transaction</h5>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="date" class="form-label">Date</label>
                        <input type="date" class="form-control" id="date" name="date"
                            value="{{ transaction.date.strftime('%Y-%m-%d') }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="category" class="form-label">Category</label>
                        <select class="form-select" id="category" name="category" required>
                            <option value="" disabled>Select a category</option>
                            <optgroup label="Expenses">
                                <option value="Food" {% if transaction.category=='Food' %}selected{% endif %}>Food
                                </option>
                                <option value="Grocery" {% if transaction.category=='Grocery' %}selected{% endif %}>
                                    Grocery</option>
                                <option value="Rent" {% if transaction.category=='Rent' %}selected{% endif %}>Rent
                                </option>
                                <option value="Utilities" {% if transaction.category=='Utilities' %}selected{% endif %}>
                                    Utilities</option>
                                <option value="Transport" {% if transaction.category=='Transport' %}selected{% endif %}>
                                    Transport</option>
                                <option value="Parking" {% if transaction.category=='Parking' %}selected{% endif %}>
                                    Parking</option>
                                <option value="Toll" {% if transaction.category=='Toll' %}selected{% endif %}>Toll
                                </option>
                                <option value="Entertainment" {% if transaction.category=='Entertainment' %}selected{%
                                    endif %}>Entertainment</option>
                                <option value="Other Expense" {% if transaction.category=='Other Expense' %}selected{%
                                    endif %}>Other Expense</option>
                            </optgroup>
                            <optgroup label="Income">
                                <option value="Salary" {% if transaction.category=='Salary' %}selected{% endif %}>Salary
                                </option>
                                <option value="Cash Back" {% if transaction.category=='Cash Back' %}selected{% endif %}>
                                    Cash Back</option>
                                <option value="Refund" {% if transaction.category=='Refund' %}selected{% endif %}>Refund
                                </option>
                                <option value="Prize" {% if transaction.category=='Prize' %}selected{% endif %}>Prize
                                </option>
                                <option value="Other Income" {% if transaction.category=='Other Income' %}selected{%
                                    endif %}>Other Income</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <input type="text" class="form-control" id="description" name="description"
                            value="{{ transaction.description }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="amount" class="form-label">Amount</label>
                        <input type="number" step="0.01" class="form-control" id="amount" name="amount"
                            value="{{ transaction.amount }}" required>
                        <div class="form-text">Use negative values for expenses (e.g., -50.00)</div>
                    </div>
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary flex-grow-1">Update Transaction</button>
                        <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}